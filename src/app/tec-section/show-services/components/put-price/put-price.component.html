<div class="dialog-container-price">
  <header class="dialog-header-price">
    <div class="header-content-price">
      <mat-icon class="header-icon-main-price">payments</mat-icon>
      <h2>Ingresar Precio Final</h2>
    </div>
    <button mat-icon-button (click)="onCancel()" aria-label="Cerrar diálogo">
      <mat-icon>close</mat-icon>
    </button>
  </header>

  <mat-dialog-content class="dialog-content-price">
    <form [formGroup]="putPriceForm" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="outline" class="full-width-field-price">
        <mat-label>Monto final</mat-label>
        <input matInput formControlName="finalAmount" type="number" placeholder="Ingresa precio" required>
        <mat-error *ngIf="putPriceForm.get('finalAmount') && putPriceForm.get('finalAmount')!.hasError('required')">
          El monto es requerido.
        </mat-error>
        <mat-error *ngIf="putPriceForm.get('finalAmount') && putPriceForm.get('finalAmount')!.hasError('pattern')">
          Monto inválido (ej: 150 o 150.50).
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width-field-price description-field-price">
        <mat-label>Descripción del trabajo realizado</mat-label>
        <textarea matInput
                  formControlName="workDescription"
                  placeholder="Detalles del trabajo completado..."
                  cdkTextareaAutosize
                  #autosize="cdkTextareaAutosize"
                  cdkAutosizeMinRows="4"
                  cdkAutosizeMaxRows="8"
                  required>
        </textarea>
        <mat-error *ngIf="putPriceForm.get('workDescription') && putPriceForm.get('workDescription')!.hasError('required')">
          La descripción es requerida.
        </mat-error>
        <mat-error *ngIf="putPriceForm.get('workDescription') && putPriceForm.get('workDescription')!.hasError('maxlength')">
          Máximo 500 caracteres.
        </mat-error>
      </mat-form-field>
    </form>
  </mat-dialog-content>

  <mat-dialog-actions align="center" class="dialog-actions-price">
    <button mat-flat-button
            class="terminar-button-dialog-price"
            (click)="onSubmit()"
            [disabled]="putPriceForm.invalid">
      Terminar
    </button>
  </mat-dialog-actions>
</div>
